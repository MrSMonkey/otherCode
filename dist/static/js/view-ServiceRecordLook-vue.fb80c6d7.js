(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-ServiceRecordLook-vue","view-components-house-HouseStatus-vue"],{1419:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"no-match-page"},[t._m(0),i("p",[t._v(t._s(t.tip))]),t.url?i("div",{staticClass:"btn-box"},[i("router-link",{staticClass:"inline-btn",attrs:{to:t.url}},[t._v("\n      返回上一页\n    ")])],1):t._e()])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img"},[s("img",{attrs:{src:i("3dfc"),alt:"404"}})])}],a=i("a585"),r=i("fd86"),o=i("3d0b"),c=i("d26d"),l=i("3a61"),u=i("b2e6"),d=i("ccfe"),h=function(t){function e(){return Object(a["a"])(this,e),Object(r["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),e}(d["a"]);l["a"]([Object(u["c"])({type:String,default:""})],h.prototype,"url",void 0),l["a"]([Object(u["c"])({type:String,default:""})],h.prototype,"tip",void 0),h=l["a"]([Object(u["a"])({name:"NoData"})],h);var f=h,p=f,v=(i("9784"),i("8c9c")),b=Object(v["a"])(p,s,n,!1,null,null,null);e["a"]=b.exports},"16af":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAAAXNSR0IArs4c6QAAAO9JREFUOBGtkkEOgjAQRVv0Gq5NXOBV1BWwVDwHcA5Fd7DTM3gFw8KwcOFBWucT21CgAglN6DSd/+bDDIxNsTaeF219P5VS8r56cyXYBUEshIgIYnRmFEPOuVT5ZnRwAQd6FipJ5z05n3Cv7ppRJyAipzOgmii95/mxy1mDEI+BDXAM3AKHwp3gENgK9sHVOCCyLWqYMUvqsJMkCbc6osOYJRU8qKIEXdfLZRjHsegE+yAUaoEW6HLLMuMXNMChkOE4BgI4w4b1LMuUQr0RrderhL9Nj4McPypB3fsLQacdX0XxWLkuvvndbIQqOEn8Au1FsqFV+bosAAAAAElFTkSuQmCC"},"3cb8":function(t,e,i){},"3dfc":function(t,e,i){t.exports=i.p+"static/img/404.1cd33ae6.png"},"4d28":function(t,e,i){"use strict";var s=i("d170");e.__esModule=!0,e.default=void 0;var n=s(i("32e7")),a=i("e07b"),r=i("f377"),o=(0,a.use)("cell-group"),c=o[0],l=o[1];function u(t,e,i,s){return t("div",(0,n.default)([{class:[l(),{"van-hairline--top-bottom":e.border}]},(0,r.inherit)(s,!0)]),[i.default&&i.default()])}u.props={border:{type:Boolean,default:!0}};var d=c(u);e.default=d},6533:function(t,e,i){},"6c58":function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var s=i("e07b"),n=i("3598"),a=(0,s.use)("tab"),r=a[0],o=a[1],c=r({mixins:[n.FindParentMixin],props:{title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{index:function(){return this.parent.tabs.indexOf(this)},selected:function(){return this.index===this.parent.curActive}},watch:{"parent.curActive":function(){this.inited=this.inited||this.selected},title:function(){this.parent.setLine()}},created:function(){this.findParent("van-tabs")},mounted:function(){var t=this.parent.tabs,e=this.parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this),this.slots("title")&&this.parent.renderTitle(this.$refs.title,this.index)},beforeDestroy:function(){this.parent.tabs.splice(this.index,1)},render:function(t){var e=this.slots,i=this.inited||!this.parent.lazyRender;return t("div",{directives:[{name:"show",value:this.selected||this.parent.animated}],class:o("pane")},[i?e():t(),e("title")&&t("div",{ref:"title"},[e("title")])])}});e.default=c},"8bbb":function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var s=i("e07b"),n=i("c887"),a=i("d3eb"),r=i("0441"),o=i("6ed5"),c=(0,s.use)("tabs"),l=c[0],u=c[1],d=(0,s.use)("tab")[1],h=l({mixins:[r.TouchMixin],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,offsetTop:Number,swipeable:Boolean,background:String,titleActiveColor:String,titleInactiveColor:String,ellipsis:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0},lineWidth:{type:Number,default:null},lineHeight:{type:Number,default:null},active:{type:[Number,String],default:0},type:{type:String,default:"line"},duration:{type:Number,default:.3},swipeThreshold:{type:Number,default:4}},data:function(){return{tabs:[],position:"",curActive:null,lineStyle:{backgroundColor:this.color},events:{resize:!1,sticky:!1,swipeable:!1}}},computed:{scrollable:function(){return this.tabs.length>this.swipeThreshold||!this.ellipsis},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}},navStyle:function(){return{borderColor:this.color,background:this.background}},trackStyle:function(){if(this.animated)return{left:-1*this.curActive*100+"%",transitionDuration:this.duration+"s"}}},watch:{active:function(t){t!==this.curActive&&this.correctActive(t)},color:function(){this.setLine()},tabs:function(){this.correctActive(this.curActive||this.active),this.scrollIntoView(),this.setLine()},curActive:function(){this.scrollIntoView(),this.setLine(),"top"!==this.position&&"bottom"!==this.position||(0,o.setScrollTop)(window,(0,o.getElementTop)(this.$el))},sticky:function(){this.handlers(!0)},swipeable:function(){this.handlers(!0)}},mounted:function(){this.onShow()},activated:function(){this.onShow()},deactivated:function(){this.handlers(!1)},beforeDestroy:function(){this.handlers(!1)},methods:{onShow:function(){var t=this;this.$nextTick(function(){t.inited=!0,t.handlers(!0),t.scrollIntoView(!0)})},handlers:function(t){var e=this.events,i=this.sticky&&t,s=this.swipeable&&t;if(e.resize!==t&&(e.resize=t,(t?a.on:a.off)(window,"resize",this.setLine,!0)),e.sticky!==i&&(e.sticky=i,this.scrollEl=this.scrollEl||(0,o.getScrollEventTarget)(this.$el),(i?a.on:a.off)(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll()),e.swipeable!==s){e.swipeable=s;var n=this.$refs.content,r=s?a.on:a.off;r(n,"touchstart",this.touchStart),r(n,"touchmove",this.touchMove),r(n,"touchend",this.onTouchEnd),r(n,"touchcancel",this.onTouchEnd)}},onTouchEnd:function(){var t=this.direction,e=this.deltaX,i=this.curActive,s=50;"horizontal"===t&&this.offsetX>=s&&(e>0&&0!==i?this.setCurActive(i-1):e<0&&i!==this.tabs.length-1&&this.setCurActive(i+1))},onScroll:function(){var t=(0,o.getScrollTop)(window)+this.offsetTop,e=(0,o.getElementTop)(this.$el),i=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=t>i?"bottom":t>e?"top":"";var s={scrollTop:t,isFixed:"top"===this.position};this.$emit("scroll",s)},setLine:function(){var t=this,e=this.inited;this.$nextTick(function(){var i=t.$refs.tabs;if(i&&i[t.curActive]&&"line"===t.type){var n=i[t.curActive],a=t.lineWidth,r=t.lineHeight,o=(0,s.isDef)(a)?a:n.offsetWidth/2,c=n.offsetLeft+(n.offsetWidth-o)/2,l={width:o+"px",backgroundColor:t.color,transform:"translateX("+c+"px)"};if(e&&(l.transitionDuration=t.duration+"s"),(0,s.isDef)(r)){var u=r+"px";l.height=u,l.borderRadius=u}t.lineStyle=l}})},correctActive:function(t){t=+t;var e=this.tabs.some(function(e){return e.index===t}),i=(this.tabs[0]||{}).index||0;this.setCurActive(e?t:i)},setCurActive:function(t){t=this.findAvailableTab(t,t<this.curActive),(0,s.isDef)(t)&&t!==this.curActive&&(this.$emit("input",t),null!==this.curActive&&this.$emit("change",t,this.tabs[t].title),this.curActive=t)},findAvailableTab:function(t,e){var i=e?-1:1,s=t;while(s>=0&&s<this.tabs.length){if(!this.tabs[s].disabled)return s;s+=i}},onClick:function(t){var e=this.tabs[t],i=e.title,s=e.disabled;s?this.$emit("disabled",t,i):(this.setCurActive(t),this.$emit("click",t,i))},scrollIntoView:function(t){var e=this.$refs.tabs;if(this.scrollable&&e&&e[this.curActive]){var i=this.$refs.nav,s=i.scrollLeft,n=i.offsetWidth,a=e[this.curActive],r=a.offsetLeft,o=a.offsetWidth;this.scrollTo(i,s,r-(n-o)/2,t)}},scrollTo:function(t,e,i,s){if(s)t.scrollLeft+=i-e;else{var a=0,r=Math.round(1e3*this.duration/16),o=function s(){t.scrollLeft+=(i-e)/r,++a<r&&(0,n.raf)(s)};o()}},renderTitle:function(t,e){var i=this;this.$nextTick(function(){var s=i.$refs.title[e];s.parentNode.replaceChild(t,s)})},getTabStyle:function(t,e){var i={},s=this.color,n=e===this.curActive,a="card"===this.type;s&&(t.disabled||!a||n||(i.color=s),!t.disabled&&a&&n&&(i.backgroundColor=s),a&&(i.borderColor=s));var r=n?this.titleActiveColor:this.titleInactiveColor;return r&&(i.color=r),this.scrollable&&this.ellipsis&&(i.flexBasis=88/this.swipeThreshold+"%"),i}},render:function(t){var e=this,i=this.type,s=this.ellipsis,n=this.animated,a=this.scrollable,r=this.tabs.map(function(i,n){return t("div",{ref:"tabs",refInFor:!0,class:d({active:n===e.curActive,disabled:i.disabled,complete:!s}),style:e.getTabStyle(i,n),on:{click:function(){e.onClick(n)}}},[t("span",{ref:"title",refInFor:!0,class:{"van-ellipsis":s}},[i.title])])});return t("div",{class:u([i])},[t("div",{ref:"wrap",style:this.wrapStyle,class:[u("wrap",{scrollable:a}),{"van-hairline--top-bottom":"line"===i}]},[t("div",{ref:"nav",class:u("nav",[i]),style:this.navStyle},[this.slots("nav-left"),"line"===i&&t("div",{class:u("line"),style:this.lineStyle}),r,this.slots("nav-right")])]),t("div",{ref:"content",class:u("content",{animated:n})},[n?t("div",{class:u("track"),style:this.trackStyle},[this.slots()]):this.slots()])])}});e.default=h},9784:function(t,e,i){"use strict";var s=i("3cb8"),n=i.n(s);n.a},"9c61":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"time-line"},t._l(t.data,function(e){return i("li",{key:e.id},[i("div",{staticClass:"dot"}),i("p",[t._v(t._s(e.content))]),i("span",[t._v(t._s(e.createTime))]),i("ImagePreview",{attrs:{imgagesArr:t.images,isFold:!0}})],1)}),0)},n=[],a=i("a585"),r=i("26cb"),o=i("fd86"),c=i("3d0b"),l=i("d26d"),u=i("3a61"),d=i("b2e6"),h=i("ccfe"),f=i("6a6f"),p=i("aec4"),v=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.images=["http://img5.imgtn.bdimg.com/it/u=4060543606,3642835235&fm=26&gp=0.jpg","http://img5.imgtn.bdimg.com/it/u=4060543606,3642835235&fm=26&gp=0.jpg","http://img5.imgtn.bdimg.com/it/u=4060543606,3642835235&fm=26&gp=0.jpg","http://img5.imgtn.bdimg.com/it/u=4060543606,3642835235&fm=26&gp=0.jpg"],t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"getRentType",value:function(t){return f["f"][t]}},{key:"getToward",value:function(t){return f["p"][t]}}]),e}(h["a"]);u["a"]([Object(d["c"])({type:Array,default:function(){return[]}})],v.prototype,"data",void 0),v=u["a"]([Object(d["a"])({name:"HouseStatus",components:{ImagePreview:p["default"]}})],v);var b=v,m=b,g=(i("c3a6"),i("8c9c")),y=Object(g["a"])(m,s,n,!1,null,null,null);e["default"]=y.exports},"9ea5":function(t,e,i){},c3a6:function(t,e,i){"use strict";var s=i("6533"),n=i.n(s);n.a},c3e8:function(t,e,i){"use strict";i.r(e);var s,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"service-record-look"},[s("div",{staticClass:"order"},[s("h1",{staticClass:"title"},[t._v("订单信息")]),s("div",{staticClass:"info"},[s("p",[t._v("订单号："+t._s(t.orderInfo&&t.orderInfo.orderId))]),s("p",[t._v("服务房源："+t._s(t.orderInfo&&t.orderInfo.productHouseName))]),s("p",[t._v("产品名称："+t._s(t.orderInfo&&t.orderInfo.productName))]),s("p",[t._v("订单状态："+t._s(t.orderInfo&&t.orderInfo.orderStatus))]),s("p",[t._v("开始日期："+t._s(t.orderInfo&&t.orderInfo.orderStartTime))]),s("p",[t._v("备       注："+t._s(t.orderInfo&&t.orderInfo.buyersRemarks))])])]),s("div",{staticClass:"order-type"},[s("van-tabs",{on:{click:t.chooseType}},t._l(t.workOrderStatusList,function(e,n){return s("van-tab",{key:n,attrs:{title:e.msg}},[t.data.length>0?s("ul",{staticClass:"order-list"},t._l(t.data,function(n,a){return s("li",{key:a,attrs:{title:e.roomNumName},on:{click:function(e){return t.toDetail(n,a)}}},[s("div",{staticClass:"list-detail"},[s("div",[s("span",[t._v(t._s(n.roomNumName))]),s("span",[t._v(t._s(n.workOrderStatusName))]),s("span",[s("img",{staticClass:"icon-right",attrs:{src:i("16af"),alt:""}})])]),s("span",{staticClass:"timer"},[t._v(t._s(n.workTime))])]),s("div",{staticClass:"list-btn"},[s("van-button",{attrs:{size:"normal",type:"default"},on:{click:function(e){return t.handlePay(e,n)}}},[t._v("支付")])],1)])}),0):s("section",[s("NoData",{attrs:{tip:"暂无服务产品"}})],1)])}),1)],1),s("transition",{attrs:{name:"van-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.maskVisible,expression:"maskVisible"}],staticClass:"mask",on:{click:function(e){return t.changePayVisible(!1)}}})]),s("transition",{attrs:{name:"van-slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.payVisible,expression:"payVisible"}],staticClass:"pay-modal"},[s("van-icon",{staticClass:"icon-close",attrs:{name:"cross"},on:{click:function(e){return t.changePayVisible(!1)}}}),s("h1",[t._v("支付")]),s("div",{staticClass:"content"},[s("p",[s("span",[t._v("应付金额")]),s("span",[t._v("360元")])])]),s("div",{staticClass:"pay-btn"},[s("van-button",{attrs:{size:"normal",type:"default"},on:{click:t.submitPay}},[t._v("共计应付"),s("span",{staticClass:"price"},[t._v("￥360.00")])])],1)],1)])],1)},a=[],r=i("5f19"),o=i("6c58"),c=i.n(o),l=i("8bbb"),u=i.n(l),d=i("5f5e"),h=i.n(d),f=i("0949"),p=i.n(f),v=i("4d28"),b=i.n(v),m=(i("3a23"),i("9289")),g=i.n(m),y=(i("b5aa"),i("4457")),w=i("a585"),k=i("26cb"),A=i("fd86"),S=i("3d0b"),O=i("d26d"),I=i("3a61"),_=i("b2e6"),C=i("3b3c"),x=i("ccfe"),j=i("73ec"),T=i("aec4"),L=i("9c61"),$=i("1419"),E=i("79f6"),R="global",N=function(t){function e(){var t;return Object(w["a"])(this,e),t=Object(A["a"])(this,Object(S["a"])(e).apply(this,arguments)),t.data=[],t.orderInfo={},t.workOrderStatusList={},t.maskVisible=!1,t.nopassVisible=!1,t.payVisible=!1,t.desc="",t.houseStatus=[],t.orderId="",t.rowId="",t.statusId="-1034",t.entrustId="",t}return Object(O["a"])(e,t),Object(k["a"])(e,[{key:"mounted",value:function(){this.orderId=String(this.$route.query.orderId),this.entrustId=String(this.$route.query.entrustId),this.ServiceRecordLook(this.orderId)}},{key:"ServiceRecordLook",value:function(){var t=Object(y["a"])(regeneratorRuntime.mark(function t(e,i){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$toast.loading({duration:0,mask:!0,loadingType:"spinner",message:"加载中..."}),t.prev=1,s=[],i){t.next=9;break}return t.next=6,this.axios.get(E["a"].ServiceRecordLook+"/".concat(e));case 6:s=t.sent,t.next=12;break;case 9:return t.next=11,this.axios.get(E["a"].ServiceRecordLook+"/".concat(e)+"/".concat(i));case 11:s=t.sent;case 12:s&&"000"===s.code?(i||(this.orderInfo=s.data.orderInfo||{},this.workOrderStatusList=s.data.workOrderStatusList.slice(0,3),this.workOrderStatusList.unshift(s.data.workOrderStatusList[3])),this.data=s.data.logList):this.$toast("获取服务记录详情失败"),t.next=18;break;case 15:throw t.prev=15,t.t0=t["catch"](1),new Error(t.t0||"Unknow Error!");case 18:return t.prev=18,this.$toast.clear(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[1,15,18,21]])}));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"changePayVisible",value:function(t){this.maskVisible=t,this.payVisible=t,Object(j["e"])(t)}},{key:"chooseType",value:function(t,e){this.statusId=this.workOrderStatusList[t].status,this.ServiceRecordLook(this.orderId,this.workOrderStatusList[t].status)}},{key:"handlePay",value:function(t,e){t.stopPropagation(),this.changePayVisible(!0)}},{key:"toDetail",value:function(t,e){console.log("item",t),console.log("data",this.data),console.log("index",e),this.rowId=t,this.$router.push("/ServiceOrderDetail?orderId="+this.orderId+"&statusId="+this.statusId+"&rowId="+e)}},{key:"submitPay",value:function(){var t=Object(y["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.post(E["a"].payment+"/".concat(this.rowId));case 3:e=t.sent,e&&"000"===e.code?(i={orderId:e.data.orderId,productURL:Object(j["d"])()+"ServiceRecordLook?orderId="+"/".concat(this.orderId)},this.payment(i)):this.$toast(e.message),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),new Error(t.t0||"Unknow Error!");case 10:return t.prev=10,this.$toast.clear(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])}));function e(){return t.apply(this,arguments)}return e}()}]),e}(x["a"]);I["a"]([Object(C["a"])("payment",{namespace:R})],N.prototype,"payment",void 0),N=I["a"]([Object(_["a"])({name:"ServiceRecord",components:(s={ImagePreview:T["default"],HouseStatus:L["default"],NoData:$["a"]},Object(r["a"])(s,g.a.name,g.a),Object(r["a"])(s,b.a.name,b.a),Object(r["a"])(s,p.a.name,p.a),Object(r["a"])(s,h.a.name,h.a),Object(r["a"])(s,u.a.name,u.a),Object(r["a"])(s,c.a.name,c.a),s)})],N);var V=N,D=V,B=(i("dd10"),i("8c9c")),P=Object(B["a"])(D,n,a,!1,null,null,null);e["default"]=P.exports},dd10:function(t,e,i){"use strict";var s=i("9ea5"),n=i.n(s);n.a}}]);
//# sourceMappingURL=view-ServiceRecordLook-vue.fb80c6d7.js.map
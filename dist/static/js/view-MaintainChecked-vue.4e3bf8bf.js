(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-MaintainChecked-vue"],{"4d28":function(e,t,a){"use strict";var r=a("d170");t.__esModule=!0,t.default=void 0;var s=r(a("32e7")),i=a("e07b"),n=a("f377"),c=(0,i.use)("cell-group"),o=c[0],u=c[1];function d(e,t,a,r){return e("div",(0,s.default)([{class:[u(),{"van-hairline--top-bottom":t.border}]},(0,n.inherit)(r,!0)]),[a.default&&a.default()])}d.props={border:{type:Boolean,default:!0}};var l=o(d);t.default=l},"6e6b":function(e,t,a){"use strict";var r=a("6ff5"),s=a.n(r);s.a},"6ff5":function(e,t,a){},"973f":function(e,t,a){"use strict";a.r(t);var r,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"maintain-checked"},[a("div",{staticClass:"total"},[a("h1",{staticClass:"title"},[e._v("费用结算")]),a("p",{staticClass:"cost"},[a("span",[e._v("维修总金额")]),a("span",[e._v(e._s(e.data&&parseFloat(e.data.repairTotalAmount).toFixed(2)||"0.00")+"元")])])]),a("div",{staticClass:"before"},[a("h1",{staticClass:"title"},[e._v("维修前照片")]),a("ImagePreview",{attrs:{imgagesArr:e.data.repairBeforeImgs,isFold:!0}})],1),a("div",{staticClass:"after"},[a("h1",{staticClass:"title"},[e._v("维修后照片")]),a("ImagePreview",{attrs:{imgagesArr:e.data.repairAfterImgs,isFold:!0}})],1),a("div",{staticClass:"btn"},[a("van-button",{attrs:{size:"normal",type:"default"},on:{click:e.passService}},[e._v("验收通过")]),a("van-button",{attrs:{size:"normal",type:"default"},on:{click:function(t){return e.changeVisible(!0)}}},[e._v("验收不通过")])],1),a("transition",{attrs:{name:"van-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskVisible,expression:"maskVisible"}],staticClass:"mask",on:{click:function(t){return e.changeVisible(!1)}}})]),a("transition",{attrs:{name:"van-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.modalVisible,expression:"modalVisible"}],staticClass:"modal"},[a("h1",[e._v("不通过原因")]),a("van-field",{staticClass:"text",attrs:{type:"textarea",placeholder:"请输入50字以内的不通过原因描述",rows:"3",autosize:"",clearable:""},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),a("div",{staticClass:"modal-btn"},[a("span",{on:{click:function(t){return e.changeVisible(!1)}}},[e._v("取消")]),a("span",{on:{click:e.productRefuse}},[e._v("确定")])])],1)])],1)},i=[],n=a("5f19"),c=a("0949"),o=a.n(c),u=a("4d28"),d=a.n(u),l=(a("3a23"),a("9289")),p=a.n(l),h=(a("b5aa"),a("4457")),v=a("a585"),f=a("26cb"),m=a("fd86"),b=a("3d0b"),g=a("d26d"),w=a("3a61"),k=a("b2e6"),j=a("ccfe"),x=a("73ec"),C=a("aec4"),I=a("79f6"),_=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(m["a"])(this,Object(b["a"])(t).apply(this,arguments)),e.data={},e.imgUrls=["http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg","http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg","http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg","http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg","http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg","http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg"],e.maskVisible=!1,e.modalVisible=!1,e.desc="",e.orderId="",e}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"mounted",value:function(){this.orderId=String(this.$route.query.orderId),this.getProductAcceptance(this.orderId)}},{key:"changeVisible",value:function(e){this.maskVisible=e,this.modalVisible=e,this.desc="",Object(x["e"])(e)}},{key:"getProductAcceptance",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$toast.loading({duration:0,mask:!0,loadingType:"spinner",message:"加载中..."}),e.prev=1,e.next=4,this.axios.get(I["a"].getProductAcceptance+"/".concat(t));case 4:a=e.sent,a&&"000"===a.code?this.data=a.data||[]:this.$toast("获取维修服务验收详情失败"),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0||"Unknow Error!");case 11:return e.prev=11,this.$toast.clear(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"productRefuse",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.desc){e.next=3;break}return this.$toast("请输入不通过原因"),e.abrupt("return");case 3:return t={reason:this.desc},e.prev=4,e.next=7,this.axios.put(I["a"].productRefuse+"/".concat(this.orderId),t);case 7:a=e.sent,a&&"000"===a.code?(this.$toast.success("提交成功"),setTimeout(function(){r.changeVisible(!1)},500),setTimeout(function(){r.$router.push("/serviceRecord?orderId="+r.orderId)},1500)):this.$toast(a.msg),e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](4),new Error(e.t0||"Unknow Error!");case 14:return e.prev=14,setTimeout(function(){r.$toast.clear()},1e3),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[4,11,14,17]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"passService",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.put(I["a"].passService+"/".concat(this.orderId));case 3:t=e.sent,t&&"000"===t.code?(this.$toast.success("验收通过"),setTimeout(function(){a.$router.push("/serviceRecord?orderId="+a.orderId)},1e3)):this.$toast(t.msg),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0||"Unknow Error!");case 10:return e.prev=10,setTimeout(function(){a.$toast.clear()},1e3),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}));function t(){return e.apply(this,arguments)}return t}()}]),t}(j["a"]);_=w["a"]([Object(k["a"])({name:"MaintainChecked",components:(r={ImagePreview:C["default"]},Object(n["a"])(r,p.a.name,p.a),Object(n["a"])(r,d.a.name,d.a),Object(n["a"])(r,o.a.name,o.a),r)})],_);var y=_,O=y,$=(a("6e6b"),a("8c9c")),V=Object($["a"])(O,s,i,!1,null,null,null);t["default"]=V.exports}}]);
//# sourceMappingURL=view-MaintainChecked-vue.4e3bf8bf.js.map